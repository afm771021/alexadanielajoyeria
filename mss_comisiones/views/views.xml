<?xml version="1.0"?>
<odoo>

    <!-- catalogo comisiones Tree -->
    <record model="ir.ui.view" id="mss_comisiones_tree">
      <field name="name">MSS_comisiones tree</field>
      <field name="model">mss_comisiones.mss_comisiones</field>
      <field name="arch" type="xml">
        <tree string="comisiones">
          <field name="sale_level"/>
          <field name="sale_amount_min"/>
          <field name="sale_amount_max"/>
          <field name="sale_commision"/>
          <field name="commision_status"/>
        </tree>
      </field>
    </record>

    <!--  catalogo comisiones  Formulario -->
    <record id="mss_comisiones_form" model="ir.ui.view" >
      <field name="name">MSS_comisiones form</field>
      <field name="model">mss_comisiones.mss_comisiones</field>
      <field name="arch" type="xml">
          <form string="comisiones">
            <sheet>
              <group name="group_top">
                <group name="group_left">
                   <field name="sale_level"/>
                  <field name="sale_amount_min" />
                  <field name="sale_amount_max" />
                </group>
                <group name="group_right">
                   <field name="sale_commision"/>
                   <field name="commision_status"/>
                </group>
              </group>
            </sheet>
          </form>
      </field>
    </record>

    <!-- pay commissions Tree -->
    <record model="ir.ui.view" id="mss_pay_commissions_tree">
      <field name="name">MSS_pay_commission tree</field>
      <field name="model">mss_commissions.commissions_to_pay</field>
      <field name="arch" type="xml">
        <tree string="pagocomisiones">
          <header>
            <button name="pay_commissions" string="Pagar comisiones" class="oe_highlight" type="object" />
          </header>
          <field name="sale_id"/>
          <field name="seller_id"/>
          <field name="sale_amount"/>
          <field name="commission_amount"/>
          <field name="sale_date"/>
          <field name="commission_pay_date"/>
          <field name="commission_paid"/>
        </tree>
      </field>
    </record>

    <!--  pay commissions  Formulario -->
    <record id="mss_pay_commissions_form" model="ir.ui.view" >
      <field name="name">MSS_pay_commission form</field>
      <field name="model">mss_commissions.commissions_to_pay</field>
      <field name="arch" type="xml">
          <form string="pagocomisiones">
            <sheet>
              <group name="group_top">
                <group name="group_left">
                   <field name="sale_id"/>
                   <field name="seller_id" />
                   <field name="sale_amount"/>
                   <field name="commission_amount"/>
                </group>
                <group name="group_right">
                   <field name="sale_date"/>
                   <field name="commission_pay_date"/>
                   <field name="commission_paid"/>
                </group>
              </group>
            </sheet>
          </form>
      </field>
    </record>

   <!-- generar comisiones Tree -->
    <record model="ir.ui.view" id="mss_logcommissions_tree">
          <field name="name">MSS_commissiones tree</field>
          <field name="model">mss_commissions.loggetcommissions</field>
          <field name="arch" type="xml">
            <tree string="logcommissions">
              <field name="logdate"/>
              <field name="logcomments"/>
              <field name="logstatus"/>
            </tree>
          </field>
        </record>

    <!-- generar comisiones  Formulario -->
    <record id="mss_logcommissions_form" model="ir.ui.view" >
      <field name="name">MSS_commissiones form</field>
      <field name="model">mss_commissions.loggetcommissions</field>
      <field name="arch" type="xml">
          <form string="comisiones">
            <sheet>
                <div class="oe_button_box" name="button_box">
                <button class="oe_stat_button" name="button_generar" type="object" icon="fa-play-circle" string ="Generar registros"
                        attrs="{'invisible':[('logstatus','=',True)]}">
                </button>
              </div>
              <group name="group_top">
                <group name="group_left">
                   <field name="logdate"/>
                  <field name="logcomments" />
                </group>
                <group name="group_right">
                   <field name="logstatus"/>
                </group>
              </group>
            </sheet>
          </form>
      </field>
    </record>

      <!-- ventas agregar el campo para captura de vendedor(a) -->
    <record model="ir.ui.view" id="mss_comisiones_sale_order">
      <field name="name">mss.comisiones.sale.order</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
       <field name="arch" type="xml">
         <xpath expr="//field[@name='partner_id']" position="before">
           <field name="seller_id"/>
         </xpath>
         <!--<data>
           <field name ="invoice_status" position="attributes">
             <attribute name="on_change">invoice_status_change(invoice_status)</attribute>
           </field>
         </data>-->
       </field>
    </record>

     <!-- catalogo comisiones Action -->
    <record model="ir.actions.act_window" id="mss_comisiones.action_server">
      <field name="name">Catálogo</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">mss_comisiones.mss_comisiones</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="oe_view_nocontent_create">Catálogo de comisiones</p>
        <p>Click en 'CREAR' para añadir nuevos elementos</p>
      </field>
    </record>

    <!-- pago comisiones Action -->
    <record model="ir.actions.act_window" id="mss_comisiones.action_server1">
      <field name="name">Pagos</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">mss_commissions.commissions_to_pay</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="oe_view_nocontent_create">Pagop de comisiones</p>
        <p>Click en 'CREAR' para añadir nuevos elementos</p>
      </field>
    </record>

    <!-- generar comisiones Action -->
    <record model="ir.actions.act_window" id="mss_comisiones.action_server2">
      <field name="name">Genera registros</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">mss_commissions.loggetcommissions</field>
      <field name="view_mode">tree,form</field>
      <field name="help" type="html">
        <p class="oe_view_nocontent_create">Registros de Comisiones</p>
        <p>Click en 'CREAR' para generar registros</p>
      </field>
    </record>

    <menuitem name="MSS Comisiones" id="mss_comisiones.menu_root"/>

    <menuitem name="Menú" id="mss_comisiones.menu_1" parent="mss_comisiones.menu_root"/>

    <menuitem name="Pago Comisiones"
              id="mss_comisiones.menu_2_list"
              parent="mss_comisiones.menu_1"
              action="mss_comisiones.action_server1" />

    <menuitem name="Generar Registros"
              id="mss_comisiones.menu_1_list"
              parent="mss_comisiones.menu_1"
              action="mss_comisiones.action_server2"/>

    <menuitem name="Catálogo Comisiones"
              id="mss_comisiones.menu_3_list"
              parent="mss_comisiones.menu_1"
              action="mss_comisiones.action_server"/>




    <!--explicit list view definition
    <record model="ir.ui.view" id="mss_comisiones.list">
      <field name="name">MSS_comisiones list</field>
      <field name="model">mss_comisiones.mss_comisiones</field>
      <field name="arch" type="xml">
        <tree>
          <field name="sale_person"/>
        </tree>
      </field>
    </record>

    <record model="ir.actions.act_window" id="mss_comisiones.action_window">
      <field name="name">MSS_comisiones window</field>
      <field name="res_model">mss_comisiones.mss_comisiones</field>
      <field name="view_mode">tree,form</field>
    </record>

    <record model="ir.actions.server" id="mss_comisiones.action_server">
      <field name="name">MSS_comisiones server</field>
      <field name="model_id" ref="model_mss_comisiones_mss_comisiones"/>
      <field name="state">code</field>
      <field name="code">
        action = {
          "type": "ir.actions.act_window",
          "view_mode": "tree,form",
          "res_model": model._name,
        }
      </field>
    </record>

    <menuitem name="MSS_comisiones" id="mss_comisiones.menu_root"/>

    <menuitem name="Menu 1" id="mss_comisiones.menu_1" parent="mss_comisiones.menu_root"/>
    <menuitem name="Menu 2" id="mss_comisiones.menu_2" parent="mss_comisiones.menu_root"/>

    <menuitem name="List" id="mss_comisiones.menu_1_list" parent="mss_comisiones.menu_1"
              action="mss_comisiones.action_window"/>
    <menuitem name="Server to list" id="mss_comisiones" parent="mss_comisiones.menu_2"
              action="mss_comisiones.action_server"/>-->

</odoo>